# 快递模板配置功能实现计划

## 1. 需求分析
- 现有模板功能已实现基本的增删改查
- 需要添加启用/禁用模板功能
- 需要实现模板配置功能，允许动态选择订单字段作为打印内容

## 2. 实现步骤

### 2.1 添加模板启用/禁用接口
- 在 `LogisticsController` 中添加模板启用/禁用接口
- 在 `ILogisticsService` 和 `LogisticsServiceImpl` 中实现对应的业务逻辑
- 修改 `WaybillTemplateMapper.xml` 添加状态更新SQL

### 2.2 扩展模板配置功能
- 修改 `WaybillTemplate` 实体类，优化 `templateContent` 字段的结构设计
- 在 `ILogisticsService` 中添加获取订单字段列表的方法
- 在 `LogisticsController` 中添加获取订单字段列表的接口
- 在 `LogisticsController` 中添加模板配置保存接口

### 2.3 实现订单字段映射
- 为 `Order` 实体类的所有字段添加 `@Excel` 注解，用于模板配置时的字段展示
- 确保所有订单字段都能被模板配置功能使用

### 2.4 优化前端交互
- 前端添加模板配置页面，允许用户动态选择订单字段
- 前端实现模板启用/禁用功能

## 3. 技术要点
- 使用 JSON 格式存储模板配置内容，便于前端解析和展示
- 利用反射机制获取 Order 实体类的所有字段，用于动态配置
- 确保模板配置与订单字段的映射关系正确

## 4. 预期效果
- 用户可以新增、修改、删除和启用/禁用模板
- 新增模板后可以点击配置按钮，进入配置页面
- 在配置页面可以动态选择需要打印的订单字段
- 配置后的模板可以用于订单打印

## 5. 文件修改清单
- `WaybillTemplate.java` - 实体类优化
- `LogisticsController.java` - 添加启用/禁用和配置接口
- `ILogisticsService.java` - 添加对应服务方法
- `LogisticsServiceImpl.java` - 实现服务方法
- `Order.java` - 添加字段注解
- `WaybillTemplateMapper.xml` - 添加状态更新SQL